<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MahaTools - Dynto Tech</title>
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header class="top-navbar no-print">
        <div class="logo-section">
            <img src="./images/mahadraft_logo.png" alt="MahaDraft Logo" style="height: 50px; width: auto;">
        </div>
        <div class="user-menu">
            <span>Welcome, Admin</span>
            <i class="fas fa-user-circle fa-lg"></i>
        </div>
    </header>

    <div class="app-container">
        
        <nav class="sidebar">
            <ul>
                <li onclick="showTool('passport')" class="nav-item active" id="nav-passport">
                    <i class="fas fa-id-card"></i> <span>Passport Photo</span>
                </li>
                <li onclick="showTool('resume')" class="nav-item" id="nav-resume">
                    <i class="fas fa-file-alt"></i> <span>Resume Maker</span>
                </li>
                <li onclick="showTool('quotation')" class="nav-item" id="nav-quotation">
                    <i class="fas fa-file-invoice-dollar"></i> <span>Quotation / Bill</span>
                </li>
                <li onclick="showTool('compress')" class="nav-item" id="nav-compress">
                    <i class="fas fa-compress-arrows-alt"></i> <span>Image Resizer</span>
                </li>
            </ul>
        </nav>

        <main class="content">
            
            <section id="passport" class="tool-section active-tool">
                
                <div class="premium-tool-header">
                    <div class="header-icon-box"><i class="fas fa-id-card"></i></div>
                    <div class="header-info">
                        <h3>Passport Photo Creator</h3>
                        <p>Perfect sizes for Passport, Visa, & Custom prints. Control quantity & gap.</p>
                    </div>
                </div>

                <div class="controls-wrapper">
                    
                    <div class="upload-container">
                        <input type="file" id="passportInput" accept="image/*" class="hidden-input">
                        <label for="passportInput" class="upload-box small-upload">
                            <i class="fas fa-cloud-upload-alt fa-2x"></i>
                            <span id="fileNameDisplay">Click to Upload Photo</span>
                        </label>
                    </div>

                    <hr class="divider">

                    <div class="settings-grid">
                        
                        <div class="setting-item">
                            <label>Photo Size:</label>
                            <select id="sizePreset" onchange="toggleCustomSize()">
                                <option value="indian">Indian Passport (3.5 x 4.5 cm)</option>
                                <option value="stamp">Stamp Size (2 x 2.5 cm)</option>
                                <option value="visa">US Visa (2 x 2 inch)</option>
                                <option value="pan">PAN Card (2.5 x 3.5 cm)</option>
                                <option value="custom">Custom Size</option>
                            </select>
                        </div>

                        <div id="customSizeBox" class="setting-item" style="display:none;">
                            <label>Custom (mm):</label>
                            <div class="dual-input">
                                <input type="number" id="customW" placeholder="W" value="35">
                                <span style="align-self:center;">x</span>
                                <input type="number" id="customH" placeholder="H" value="45">
                            </div>
                        </div>

                        <div class="setting-item">
                            <label>Quantity:</label>
                            <select id="printQty">
                                <option value="35">35 Photos</option>
                                <option value="16">16 Photos</option>
                                <option value="8">8 Photos</option>
                                <option value="4">4 Photos</option>
                                <option value="1">1 Photo (Test)</option>
                            </select>
                        </div>

                        <div class="setting-item">
                            <label>Gap (mm):</label>
                            <input type="number" id="photoGap" value="2" min="0" max="10">
                        </div>

                        <div class="setting-item full-col">
                            <button onclick="generateGrid()" class="btn-secondary full-width">
                                <i class="fas fa-sync-alt"></i> Update Preview
                            </button>
                        </div>
                    </div>

                    <button onclick="downloadJPG()" class="btn-secondary" style="margin-top: 20px; width: 100%; border: 2px solid #4e54c8; background: white; color: #4e54c8;">
                        <i class="fas fa-image"></i> Download JPG
                    </button>

                </div>
                
                <div class="print-preview-stage">
                    <div class="stage-label">A4 Print Preview</div>
                    <div id="passportGrid" class="a4-page passport-grid-flex">
                        <div class="empty-state-premium">
                            <p>Upload photo & click 'Update Preview'</p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="resume" class="tool-section" style="display: none;">
                <div class="tool-header">
                    <h3>üìÑ Resume / Biodata Builder</h3>
                </div>
                
                <div class="editor-layout">
                    <div class="form-side no-print">
                        <h4>Personal Details:</h4>
                        <input type="text" id="resName" placeholder="Full Name" oninput="updateResume()">
                        <input type="text" id="resJob" placeholder="Job Title / Designation" oninput="updateResume()">
                        <input type="text" id="resContact" placeholder="Phone | Email | LinkedIn" oninput="updateResume()">
                        <textarea id="resAddress" placeholder="Address / Location" oninput="updateResume()"></textarea>
                        
                        <h4>Professional Details:</h4>
                        <textarea id="resEdu" placeholder="Education (e.g., B.E. Computer Science - 2024)" oninput="updateResume()"></textarea>
                        <textarea id="resExp" placeholder="Work Experience / Projects" oninput="updateResume()"></textarea>
                        
                        <button onclick="window.print()" class="btn-primary full-width">üñ®Ô∏è Print Resume</button>
                    </div>

                    <div class="print-area">
                        <div id="resumePreview" class="a4-page resume-paper">
                            <header class="resume-header">
                                <h1 id="viewName">Your Name</h1>
                                <h3 id="viewJob">Designation</h3>
                                <p id="viewContact">Phone | Email</p>
                            </header>
                            
                            <div class="resume-body">
                                <div class="resume-section">
                                    <h5>Address</h5>
                                    <p id="viewAddress">Your Address will appear here...</p>
                                </div>
                                <div class="resume-section">
                                    <h5>Education</h5>
                                    <div id="viewEdu" class="formatted-text">Education details...</div>
                                </div>
                                <div class="resume-section">
                                    <h5>Experience</h5>
                                    <div id="viewExp" class="formatted-text">Experience details...</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="quotation" class="tool-section" style="display: none;">
                <div class="tool-header">
                    <h3>üßæ Invoice / Quotation Generator</h3>
                </div>

                <div class="editor-layout">
                    <div class="form-side no-print">
                        <label>Client Details:</label>
                        <input type="text" id="clientName" placeholder="Client Name" oninput="updateBillHeader()">
                        
                        <label>Add Item:</label>
                        <div class="add-item-box">
                            <input type="text" id="itemDesc" placeholder="Item Name">
                            <div style="display:flex; gap:10px;">
                                <input type="number" id="itemQty" placeholder="Qty">
                                <input type="number" id="itemPrice" placeholder="Price">
                            </div>
                            <button onclick="addItem()" class="btn-secondary" style="margin-top:10px; width:100%;">Add Item</button>
                        </div>
                        
                        <button onclick="window.print()" class="btn-primary full-width">üñ®Ô∏è Print Invoice</button>
                    </div>

                    <div class="print-area">
                        <div class="a4-page bill-paper">
                            <div class="bill-header-section">
                                <h1>INVOICE</h1>
                                <div class="bill-meta">
                                    <p><strong>To:</strong> <span id="viewClient">Client Name</span></p>
                                    <p><strong>Date:</strong> <span id="billDate">--/--/----</span></p>
                                </div>
                            </div>
                            
                            <table class="bill-table">
                                <thead>
                                    <tr>
                                        <th>Description</th>
                                        <th class="text-center">Qty</th>
                                        <th class="text-right">Price</th>
                                        <th class="text-right">Total</th>
                                    </tr>
                                </thead>
                                <tbody id="billBody">
                                    </tbody>
                            </table>

                            <div class="bill-footer-section">
                                <h3>Total Amount: ‚Çπ<span id="billTotal">0</span></h3>
                            </div>
                            
                            <div class="bill-sign">
                                <p>Authorized Signature</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="compress" class="tool-section" style="display: none;">
                <div class="tool-header">
                    <h3>üìâ Image Resizer (Under 50KB)</h3>
                    <p>Compress images for online forms, police verification, or government portals.</p>
                </div>

                <div class="compressor-box">
                    <div class="upload-area">
                        <i class="fas fa-cloud-upload-alt fa-3x" style="color:var(--primary); margin-bottom:10px;"></i>
                        <p>Click here to Upload Image</p>
                        <input type="file" id="compressInput" accept="image/*">
                    </div>
                    
                    <div id="loadingText" style="display:none; color: var(--primary); margin: 20px; font-weight:bold;">Processing...</div>
                    
                    <div id="resultArea" style="display:none;" class="result-card">
                        <div class="stats">
                            <p>Original: <span id="origSize">0 KB</span></p>
                            <p>New: <b style="color:green" id="newSize">0 KB</b></p>
                        </div>
                        <img id="compressedImg" src="" alt="Result">
                        <br>
                        <a id="downloadBtn" href="#" download="compressed.jpg" class="btn-primary">Download Compressed Image</a>
                    </div>
                </div>
            </section>

            <footer class="main-footer no-print">
                <p>Developed by</p>
                <img src="./images/dynto_logo.png" alt="DYNTO Technologies" class="dev-logo">
                <p>&copy; 2025 Dynto Technologies. All rights reserved.</p>
            </footer>

        </main>
    </div>

    <div id="cropModal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h4>‚úÇÔ∏è Crop Image</h4>
                <span class="close-modal" onclick="closeCropModal()">&times;</span>
            </div>
            
            <div class="crop-body">
                <div class="img-container">
                    <img id="imageToCrop" src="" alt="Picture" style="max-width: 100%;">
                </div>
            </div>

            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeCropModal()">Cancel</button>
                <button class="btn-primary" onclick="cropAndSave()">Crop & Generate ‚úÖ</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>